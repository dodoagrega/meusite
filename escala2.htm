<script>
  const precos = {
    "Pipoca Salgada": 10,
    "Pipoca Doce": 8
  };

  function fecharDia() {
    const caixaInicial = parseFloat(document.getElementById("caixaInicial").value) || 0;
    const valorDinheiro = parseFloat(document.getElementById("valorDinheiro").value) || 0;
    const valorPix = parseFloat(document.getElementById("valorPix").value) || 0;
    const valorCartao = parseFloat(document.getElementById("valorCartao").value) || 0;

    const totalRecebido = valorDinheiro + valorPix + valorCartao;

    const custoMedio = 3.5; // custo médio por unidade
    const precoMedio = 9;   // preço médio de venda
    const lucroMedio = precoMedio - custoMedio;

    const estimativaVendas = totalRecebido / precoMedio;
    const lucroTotal = estimativaVendas * lucroMedio;

    const caixaFinal = caixaInicial + valorDinheiro;

    const sugestaoPix = gerarSugestao(valorPix);
    const sugestaoDinheiro = gerarSugestao(valorDinheiro);
    const sugestaoCartao = gerarSugestao(valorCartao);

    const resumo = `
      <h3>Resumo do Dia</h3>
      <p><strong>Total recebido:</strong> R$ ${totalRecebido.toFixed(2)}</p>
      <p><strong>Dinheiro:</strong> R$ ${valorDinheiro.toFixed(2)} <br><em>${sugestaoDinheiro}</em></p>
      <p><strong>Pix:</strong> R$ ${valorPix.toFixed(2)} <br><em>${sugestaoPix}</em></p>
      <p><strong>Cartão:</strong> R$ ${valorCartao.toFixed(2)} <br><em>${sugestaoCartao}</em></p>
      <hr>
      <p><strong>Estimativa de vendas:</strong> ~ ${Math.round(estimativaVendas)} unidades</p>
      <p><strong>Lucro estimado:</strong> R$ ${lucroTotal.toFixed(2)}</p>
      <hr>
      <p><strong>Caixa Final (com troco):</strong> R$ ${caixaFinal.toFixed(2)}</p>
    `;

    document.getElementById("resumoDia").innerHTML = resumo;
  }

  function gerarSugestao(valor) {
    if (valor === 0) return "—";

    const salgada = Math.floor(valor / precos["Pipoca Salgada"]);
    const doce = Math.floor(valor / precos["Pipoca Doce"]);

    return `Possível: ${salgada} salgadas ou ${doce} doces`;
  }
</script>